<!DOCTYPE html>
<html lang="fa" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>جستجوی هوشمند اخبار</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      @keyframes marquee-left {
        0% { transform: translateX(100%); }
        100% { transform: translateX(-100%); }
      }
      @keyframes marquee-right {
        0% { transform: translateX(-100%); }
        100% { transform: translateX(100%); }
      }
      body {
        background-color: #0a0a0a;
      }

      /* Base Theme */
      .theme-base {
        --bg-gradient-from: #000000;
        --bg-gradient-via: #0a0e1a;
        --bg-gradient-to: rgba(10, 25, 47, 0.5); /* blue-900/50 */
        --header-bg: rgba(0, 0, 0, 0.3);
        --border-color: rgba(6, 182, 212, 0.2); /* cyan-400/20 */
        --text-primary: #e5e7eb; /* gray-200 */
        --text-secondary: #9ca3af; /* gray-400 */
        --text-accent: #67e8f9; /* cyan-300 */
        --accent-color: #06b6d4; /* cyan-500 */
        --accent-shadow-color: #06b6d4;
        --accent-color-rgb: 6, 182, 212;
      }

      /* Neon Dreams Theme */
      .theme-neon-dreams {
        --bg-gradient-from: #0c0a1f;
        --bg-gradient-via: #1a103c;
        --bg-gradient-to: rgba(76, 29, 149, 0.5); /* violet-900/50 */
        --header-bg: rgba(12, 10, 31, 0.4);
        --border-color: rgba(167, 139, 250, 0.3); /* violet-400/30 */
        --text-primary: #f3e8ff;
        --text-secondary: #d8b4fe; /* violet-300 */
        --text-accent: #f472b6; /* pink-400 */
        --accent-color: #ec4899; /* pink-500 */
        --accent-shadow-color: #ec4899;
        --accent-color-rgb: 236, 72, 153;
      }

      /* Solar Flare Theme */
      .theme-solar-flare {
        --bg-gradient-from: #1e1b18;
        --bg-gradient-via: #422006;
        --bg-gradient-to: rgba(146, 64, 14, 0.5); /* orange-800/50 */
        --header-bg: rgba(30, 27, 24, 0.4);
        --border-color: rgba(251, 146, 60, 0.3); /* orange-400/30 */
        --text-primary: #fff7ed;
        --text-secondary: #fed7aa; /* orange-200 */
        --text-accent: #fbbf24; /* amber-400 */
        --accent-color: #f59e0b; /* amber-500 */
        --accent-shadow-color: #f59e0b;
        --accent-color-rgb: 245, 158, 11;
      }
      
      /* New Theme: Sunset Glow */
      .theme-sunset-glow {
        --bg-gradient-from: #2d1942;
        --bg-gradient-via: #5f275e;
        --bg-gradient-to: rgba(157, 58, 112, 0.5);
        --header-bg: rgba(45, 25, 66, 0.4);
        --border-color: rgba(244, 114, 182, 0.3); /* pink-400/30 */
        --text-primary: #fce7f3; /* pink-50 */
        --text-secondary: #f9a8d4; /* pink-300 */
        --text-accent: #c084fc; /* purple-400 */
        --accent-color: #a855f7; /* purple-500 */
        --accent-shadow-color: #e879f9;
        --accent-color-rgb: 168, 85, 247;
      }

      /* New Theme: Citrus Burst */
      .theme-citrus-burst {
        --bg-gradient-from: #422006;
        --bg-gradient-via: #854d0e;
        --bg-gradient-to: rgba(217, 119, 6, 0.5);
        --header-bg: rgba(66, 32, 6, 0.4);
        --border-color: rgba(251, 146, 60, 0.4); /* orange-400/40 */
        --text-primary: #fefce8;
        --text-secondary: #fde68a; /* yellow-200 */
        --text-accent: #f472b6; /* pink-400 */
        --accent-color: #fbbf24; /* amber-400 */
        --accent-shadow-color: #fef08a;
        --accent-color-rgb: 251, 191, 36;
      }

      /* New Theme: Ocean Breeze */
      .theme-ocean-breeze {
        --bg-gradient-from: #0c2a4c;
        --bg-gradient-via: #1d4ed8;
        --bg-gradient-to: rgba(56, 189, 248, 0.5);
        --header-bg: rgba(12, 42, 76, 0.4);
        --border-color: rgba(56, 189, 248, 0.3); /* sky-400/30 */
        --text-primary: #e0f2fe; /* sky-50 */
        --text-secondary: #7dd3fc; /* sky-300 */
        --text-accent: #a5f3fc; /* cyan-200 */
        --accent-color: #2563eb; /* blue-600 */
        --accent-shadow-color: #38bdf8;
        --accent-color-rgb: 37, 99, 235;
      }
      
      /* New Theme: Crimson Fire */
      .theme-crimson-fire {
        --bg-gradient-from: #450a0a;
        --bg-gradient-via: #991b1b;
        --bg-gradient-to: rgba(249, 115, 22, 0.5);
        --header-bg: rgba(69, 10, 10, 0.4);
        --border-color: rgba(248, 113, 113, 0.3); /* red-400/30 */
        --text-primary: #fef2f2; /* red-50 */
        --text-secondary: #fca5a5; /* red-300 */
        --text-accent: #fb923c; /* orange-400 */
        --accent-color: #ef4444; /* red-500 */
        --accent-shadow-color: #f87171;
        --accent-color-rgb: 239, 68, 68;
      }

      /* New Theme: Emerald Forest */
      .theme-emerald-forest {
        --bg-gradient-from: #051412;
        --bg-gradient-via: #0b3d32;
        --bg-gradient-to: rgba(20, 83, 45, 0.5);
        --header-bg: rgba(5, 20, 18, 0.4);
        --border-color: rgba(45, 212, 191, 0.3);
        --text-primary: #d1fae5;
        --text-secondary: #5eead4;
        --text-accent: #bef264;
        --accent-color: #14b8a6;
        --accent-shadow-color: #14b8a6;
        --accent-color-rgb: 20, 184, 166;
      }

      /* New Theme: Royal Gold */
      .theme-royal-gold {
        --bg-gradient-from: #000000;
        --bg-gradient-via: #281e0c;
        --bg-gradient-to: rgba(120, 83, 11, 0.5);
        --header-bg: rgba(0, 0, 0, 0.5);
        --border-color: rgba(252, 211, 77, 0.3);
        --text-primary: #fefce8;
        --text-secondary: #fde68a;
        --text-accent: #ffffff;
        --accent-color: #facc15;
        --accent-shadow-color: #facc15;
        --accent-color-rgb: 250, 204, 21;
      }

      /* Transparent Gradient Styles */
      .bg-main-gradient { background-image: linear-gradient(to bottom right, var(--bg-gradient-from), var(--bg-gradient-via), var(--bg-gradient-to)); }
      .header-bg { background-color: var(--header-bg); }
      .border-accent { border-color: var(--border-color); }
      .text-primary { color: var(--text-primary); }
      .text-secondary { color: var(--text-secondary); }
      .text-accent { color: var(--text-accent); }
      .accent-bg { background-color: var(--accent-color); }
      .accent-shadow { box-shadow: 0 0 15px 0 var(--accent-shadow-color); }
      .accent-shadow-sm { box-shadow: 0 0 5px 0 var(--accent-shadow-color); }

      /* Neon Effect for Crypto Tracker */
      @keyframes neon-flicker {
        0%, 18%, 22%, 25%, 53%, 57%, 100% {
          text-shadow:
            0 0 4px #fff,
            0 0 11px #fff,
            0 0 19px #fff,
            0 0 40px var(--neon-color, #0fa),
            0 0 80px var(--neon-color, #0fa),
            0 0 90px var(--neon-color, #0fa);
          opacity: 1;
        }
        20%, 24%, 55% {
          text-shadow: none;
          opacity: 0.95;
        }
      }

      .neon-text {
        color: #fff;
        animation: neon-flicker 1.5s infinite alternate;
      }
      
      /* --- DEBATE SIMULATOR STYLES --- */
      @keyframes pulse {
        0%, 100% {
          transform: scale(1);
          box-shadow: 0 0 0 0 rgba(var(--glow-color-rgb), 0.7);
        }
        50% {
          transform: scale(1.05);
          box-shadow: 0 0 10px 5px rgba(var(--glow-color-rgb), 0.3), 0 0 20px 10px rgba(var(--glow-color-rgb), 0.1);
        }
      }
      .debate-table {
        width: 150px;
        height: 150px;
        border-radius: 50%;
        background: radial-gradient(circle, rgba(var(--accent-color-rgb), 0.3) 0%, rgba(var(--accent-color-rgb), 0) 70%);
        border: 2px solid rgba(var(--accent-color-rgb), 0.5);
        transform: perspective(300px) rotateX(60deg);
        box-shadow: 0 20px 30px rgba(0,0,0,0.4);
      }
      .participant-node {
        position: absolute;
        width: 48px;
        height: 48px;
        border-radius: 50%;
        background-color: rgba(17, 24, 39, 0.8);
        border: 2px solid var(--border-color);
        display: flex;
        align-items: center;
        justify-content: center;
        transform: translate(-50%, -50%);
        transition: all 0.3s ease;
        color: var(--text-secondary);
      }
      .participant-node.active {
        color: var(--text-accent);
        border-color: var(--accent-color);
        animation: pulse 2s infinite;
        --glow-color-rgb: 103, 232, 249; /* fallback cyan */
      }
      .bg-grid-pattern {
        background-image:
          linear-gradient(rgba(var(--accent-color-rgb), 0.1) 1px, transparent 1px),
          linear-gradient(to right, rgba(var(--accent-color-rgb), 0.1) 1px, transparent 1px);
        background-size: 2rem 2rem;
      }
      .animate-fade-in {
        animation: fadeIn 0.5s ease-out forwards;
      }
      @keyframes fadeIn {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
      }
      /* Credibility Glow Effects */
      .shadow-glow-green { box-shadow: 0 0 12px 1px rgba(74, 222, 128, 0.6); }
      .shadow-glow-yellow { box-shadow: 0 0 12px 1px rgba(250, 204, 21, 0.6); }
      .shadow-glow-red { box-shadow: 0 0 12px 1px rgba(248, 113, 113, 0.6); }
      .shadow-glow-gray { box-shadow: 0 0 12px 1px rgba(156, 163, 175, 0.5); }
      
      /* --- CONDUCT DEBATE ANALYSIS STYLES --- */
      .progress-bar-container {
        background-color: rgba(var(--accent-color-rgb), 0.1);
        border-radius: 9999px;
        overflow: hidden;
        border: 1px solid rgba(var(--accent-color-rgb), 0.2);
      }
      .progress-bar {
        height: 100%;
        background-image: linear-gradient(to right, rgba(var(--accent-color-rgb), 0.5), rgba(var(--accent-color-rgb), 1));
        transition: width 1.5s cubic-bezier(0.4, 0, 0.2, 1);
        animation: progress-in 1.5s cubic-bezier(0.4, 0, 0.2, 1);
      }
      @keyframes progress-in {
        from { width: 0%; }
      }

      .score-circle {
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
      }
      .score-circle svg {
        position: absolute;
        top: 0;
        left: 0;
        transform: rotate(-90deg);
      }
      .score-circle circle {
        transition: stroke-dashoffset 1.5s cubic-bezier(0.4, 0, 0.2, 1);
        animation: score-in 1.5s cubic-bezier(0.4, 0, 0.2, 1);
      }
      @keyframes score-in {
        from { stroke-dashoffset: 251.2; }
      }
      
      /* --- STATISTICAL RESEARCH STYLES --- */
      .perspective-container {
        perspective: 1000px;
      }

      /* Metric Card Color Themes */
      .metric-card-theme-cyan { --metric-color-rgb: 6, 182, 212; --metric-color: #06b6d4; }
      .metric-card-theme-purple { --metric-color-rgb: 168, 85, 247; --metric-color: #a855f7; }
      .metric-card-theme-green { --metric-color-rgb: 34, 197, 94; --metric-color: #22c55e; }
      .metric-card-theme-amber { --metric-color-rgb: 245, 158, 11; --metric-color: #f59e0b; }

      /* Updated Metric Card Styles to use variables */
      .metric-card {
          --metric-color-rgb: var(--accent-color-rgb);
          --metric-color: var(--accent-color);
          transform-style: preserve-3d;
          transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
          border: 1px solid rgba(var(--metric-color-rgb), 0.3);
          box-shadow: 0 0 20px 2px rgba(var(--metric-color-rgb), 0.2), inset 0 0 15px rgba(var(--metric-color-rgb), 0.1);
      }
      .metric-card:hover {
          transform: translateZ(20px) rotateY(5deg) scale(1.05);
      }
      .metric-card-inner {
          background: radial-gradient(circle at 50% 0%, rgba(var(--metric-color-rgb), 0.15) 0%, rgba(var(--metric-color-rgb), 0) 70%);
      }
      .metric-title-container {
          color: var(--metric-color);
          text-shadow: 0 0 8px rgba(var(--metric-color-rgb), 0.6);
      }
      .metric-icon {
          color: var(--metric-color);
      }
      .metric-value {
          color: #fff;
          text-shadow: 0 0 12px rgba(var(--metric-color-rgb), 0.7), 0 0 4px #fff;
      }
      .metric-unit {
          color: var(--metric-color);
          opacity: 0.8;
      }
      
      .chart-container-shiny {
        position: relative;
        border-radius: 0.75rem;
        overflow: hidden;
        box-shadow: 0 0 20px 2px rgba(var(--accent-color-rgb), 0.3), inset 0 0 15px rgba(var(--accent-color-rgb), 0.2);
      }
      .chart-container-shiny::before {
        content: '';
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: conic-gradient(transparent, rgba(var(--accent-color-rgb), 0.2), transparent 30%);
        animation: rotate-shine 6s linear infinite;
      }
      @keyframes rotate-shine {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
      }
    </style>
<script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@^18.2.0",
    "react-dom/": "https://esm.sh/react-dom@^18.2.0/",
    "react/": "https://esm.sh/react@^18.2.0/",
    "@google/genai": "https://esm.sh/@google/genai@1.15.0",
    "xlsx": "https://esm.sh/xlsx@^0.18.5",
    "react-draggable": "https://esm.sh/react-draggable@^4.4.6",
    "appwrite": "https://esm.sh/appwrite@^15.0.0",
    "jspdf": "https://esm.sh/jspdf@^2.5.1",
    "html2canvas": "https://esm.sh/html2canvas@^1.4.1",
    "file-saver": "https://esm.sh/file-saver@2.0.5",
    "docx": "https://aistudiocdn.com/docx@^9.5.1"
  }
}
</script>
</head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
    <script type="module" src="/index.js"></script>
  </body>
</html>